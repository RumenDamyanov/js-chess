/* Vue App Specific Overrides (keep minimal) */

/* Core 3-column responsive layout (left | center | right) */
.container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 20px;
	background: rgba(255,255,255,0.95);
	min-height: 100vh;
	box-shadow: 0 0 30px rgba(0,0,0,0.1);
}
.container > main { display:grid; grid-template-columns:300px auto 300px; gap:30px; align-items:start; max-width:1400px; margin:0 auto; }

@media (max-width:1024px){ .container > main { grid-template-columns:250px auto 250px; gap:20px; } }
@media (max-width:768px){ .container > main { grid-template-columns:1fr; gap:20px; } }
@media (max-width:860px){ .left-panel, .right-panel, .board-panel { width:100%; } }

.left-panel, .right-panel { display: flex; flex-direction: column; gap: 18px; }

.board-panel { display:flex; flex-direction:column; align-items:center; gap: 12px; }

/* Constrain board panel so messages sit beneath board nicely */
.board-panel .board-wrapper { margin-bottom: 4px; }

/* Card-like mimic for parity (if not already styled) */
.card-like { background: var(--color-bg-surface,#fff); border:1px solid var(--color-border,#d9dee3); border-radius: var(--radius-lg,10px); padding:16px 18px; box-shadow:0 4px 15px rgba(0,0,0,0.08); position:relative; }
.card-like h3 { margin:0 0 6px; font-size:1.05rem; font-weight:600; }

/* Move history parity with vanilla */
.move-history { padding:20px; background:linear-gradient(145deg,#f8f9fa,#e9ecef); border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.1); border:1px solid #dee2e6; }
.move-history h3 { margin:0 0 15px; color:#2c3e50; text-align:center; font-size:1.2em; }
.move-history .moves { max-height:300px; overflow-y:auto; border:1px solid #dee2e6; border-radius:8px; padding:10px; background:#fff; box-shadow:inset 0 2px 5px rgba(0,0,0,0.05); }
.move-history .move-item { display:flex; justify-content:space-between; padding:8px 10px; border-bottom:1px solid #eee; border-radius:4px; margin-bottom:2px; transition:all .2s ease; }
.move-history .move-item:last-child { border-bottom:none; margin-bottom:0; }
.move-history .move-item:hover { background:linear-gradient(145deg,#e3f2fd,#bbdefb); transform:translateX(3px); }
.move-number { font-weight:bold; min-width:35px; color:#2c3e50; font-size:14px; }
.move-notation { flex:1; text-align:center; font-family:'Courier New',monospace; font-weight:500; color:#007bff; }

/* Board sizing handled by shared board styles (60px squares) */

/* Reuse shared board sizes; remove old bespoke gradients */
.board-wrapper.flipped .chess-board { transform: rotate(180deg); }
.board-wrapper.flipped .chess-board .piece { transform: rotate(180deg); }

/* Thick board border parity */
.chess-board { border:3px solid #2c3e50; border-radius:8px; padding:2px; background:#2c3e50; box-shadow:0 8px 25px rgba(0,0,0,0.3); }
[data-theme="dark"] .chess-board { border-color:#374151; background:#1e2530; }

/* Timer / Save slots alignment (minor adjustments) */
.timers-card .timer-row { font-family: var(--font-mono, monospace); }

/* Message variants reuse shared palette; ensure spacing */
.game-messages-region { width:100%; max-width:480px; margin:8px auto 4px; display:flex; flex-direction:column-reverse; gap:6px; min-height:0; }

/* Timer Display (parity with vanilla-ts) */
.timer-info { padding:20px; background:linear-gradient(145deg,#f8f9fa,#e9ecef); border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.1); border:1px solid #dee2e6; }
.timer-info h3 { margin-top:0; color:#2c3e50; text-align:center; font-size:1.2em; margin-bottom:15px; }
.timer-content { display:flex; flex-direction:column; gap:10px; }
.timer-row { display:flex; justify-content:space-between; align-items:center; padding:8px 12px; margin-bottom:5px; border-radius:6px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
.timer-label { font-weight:600; color:#495057; }
.timer { font-family:'Courier New',monospace; font-weight:bold; font-size:16px; color:#007bff; }
.timer.active { color:#28a745; animation:pulse 1s infinite; }

@keyframes pulse { 0%{opacity:1;}50%{opacity:.7;}100%{opacity:1;} }

[data-theme="dark"] .timer-info { background: linear-gradient(145deg,#2a3442,#1f2732); border:1px solid #374151; box-shadow:0 4px 16px rgba(0,0,0,0.4); }
[data-theme="dark"] .timer-row { background:#26303d; color: var(--color-text-primary,#f2f5f9); box-shadow:0 2px 5px rgba(0,0,0,0.4); border:1px solid #374151; }
[data-theme="dark"] .timer-row .timer-label, [data-theme="dark"] .timer-row .timer { color:inherit; }
[data-theme="dark"] .timer-info .btn { background:#2d3746; color: var(--color-text-primary,#f2f5f9); border:1px solid #3b4756; box-shadow:0 2px 6px rgba(0,0,0,0.45); text-transform:none; letter-spacing:normal; }
[data-theme="dark"] .timer-info .btn:hover { background:#354353; }

/* Buttons: rely on shared .btn, minimize custom differences */
.btn-small, .btn.btn-small { margin: 2px; }
.btn-smaller, .btn.btn-smaller { padding: 4px 8px; font-size: 0.65rem; margin: 2px; }

/* Dark mode button refinements for consistency */
[data-theme="dark"] .btn,
[data-theme="dark"] .btn-small,
[data-theme="dark"] .btn-smaller { background:#2d3746; border:1px solid #3b4756; color:var(--color-text-primary,#f2f5f9); box-shadow:0 2px 6px rgba(0,0,0,0.45); text-transform:none; letter-spacing:normal; }
[data-theme="dark"] .btn:hover,
[data-theme="dark"] .btn-small:hover,
[data-theme="dark"] .btn-smaller:hover { background:#354353; }

/* Game control buttons cluster (new game / undo / hint) if present */
[data-theme="dark"] .game-controls .btn { background:#2d3746; border:1px solid #3b4756; }
[data-theme="dark"] .game-controls .btn:hover { background:#354353; }

/* PGN card sizing consistency */
#pgn-output { min-height:120px; font-size:0.7rem; font-family:var(--font-mono,monospace); padding:6px 8px; }

/* Save slot grid mimic vanilla */
.slots-grid { display:grid; gap:10px; grid-template-columns:1fr; }
.slot { background: var(--color-bg-surface-alt,#f8f9fa); color:var(--color-text-primary,#2c3e50); border:1px solid var(--color-border,#dee2e6); border-radius:8px; padding:10px 12px; display:flex; flex-direction:column; gap:6px; transition:background .2s ease,border-color .2s ease; }
.slot:hover { background:var(--color-bg-surface,#fff); border-color:var(--color-brand-start,#007bff); }
.slot-label { font-size:.75rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; opacity:.8; }
.slot-time { font-size:.7rem; opacity:.7; }
.slot-actions { display:flex; gap:6px; flex-wrap:wrap; }

/* Config section grouping (parity with other frameworks) */
.game-config { display:flex; flex-direction:column; gap:18px; }
.game-config .config-section { padding:14px 16px 16px; border:1px solid #dee2e6; border-radius:8px; background:#ffffff; box-shadow:0 2px 6px rgba(0,0,0,0.05); position:relative; }
.game-config .config-section h4 { margin:0 0 10px; font-size:.8rem; font-weight:700; text-transform:uppercase; letter-spacing:.5px; opacity:.75; }
.game-config .config-group { margin-bottom:10px; display:flex; flex-direction:column; gap:6px; }
.game-config .config-group:last-child { margin-bottom:0; }
.game-config label { font-size:.75rem; font-weight:500; }
.checkbox-label { display:flex; align-items:center; gap:8px; cursor:pointer; position:relative; font-size:.75rem; }
.checkbox-label input { position:absolute; opacity:0; pointer-events:none; }
.checkbox-label .checkmark { width:18px; height:18px; border:2px solid #007bff; border-radius:4px; display:inline-block; position:relative; box-shadow:inset 0 0 0 2px #fff; background:#fff; transition:background .2s,border-color .2s; }
.checkbox-label input:checked + .checkmark { background:#007bff; border-color:#005dc5; }
.checkbox-label input:checked + .checkmark::after { content:"✓"; position:absolute; top:-2px; left:2px; color:#fff; font-size:12px; font-weight:bold; }

/* Dark mode config section parity */
[data-theme="dark"] .game-config .config-section { background:#1e2530; border-color:#374151; box-shadow:0 2px 8px rgba(0,0,0,0.5); }
[data-theme="dark"] .game-config .config-section h4 { opacity:.85; }
[data-theme="dark"] .checkbox-label .checkmark { background:#26303d; border-color:#3b4756; }
[data-theme="dark"] .checkbox-label input:checked + .checkmark { background:#3d8bfd; border-color:#2f6bbd; }

/* Unified status styling parity with vanilla-ts */
.status { display:flex; flex-direction:column; gap:10px; }
.status > div { padding:8px 12px; border-radius:6px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); font-weight:500; color:#2c3e50; border:1px solid rgba(0,0,0,0.05); }
[data-theme="dark"] .status > div { background:#26303d; color: var(--color-text-primary,#f2f5f9); box-shadow:0 2px 5px rgba(0,0,0,0.4); border:1px solid #374151; }
[data-theme="dark"] .status > div span { color:inherit; }

/* Dark mode overrides (Vue specific adjustments for parity) */
[data-theme="dark"] .container { background: rgba(30,37,48,0.95); box-shadow:0 0 30px rgba(0,0,0,0.45); }
[data-theme="dark"] .move-history { background: linear-gradient(145deg,#2a3442,#1f2732); border-color:#374151; }
[data-theme="dark"] .move-history .moves { background:#1e2530; border-color:#374151; }
[data-theme="dark"] .move-history .move-item { border-bottom:1px solid #2e3947; }
[data-theme="dark"] .move-history .move-item:hover { background:linear-gradient(145deg,#243041,#1c2530); }
[data-theme="dark"] .card-like { background:#1e2530; border-color:#374151; box-shadow:0 4px 16px rgba(0,0,0,0.4); }
[data-theme="dark"] .slot { background:#26303d; border-color:#374151; }
[data-theme="dark"] .slot:hover { background:#2d3947; }
[data-theme="dark"] #pgn-output, [data-theme="dark"] .pgn-input, [data-theme="dark"] textarea, [data-theme="dark"] input[type="text"], [data-theme="dark"] select { background:#26303d; color:var(--color-text-primary,#f2f5f9); border-color:#374151; }
[data-theme="dark"] #pgn-output:focus, [data-theme="dark"] .pgn-input:focus { box-shadow:0 0 0 3px rgba(61,139,253,0.35); }
[data-theme="dark"] .slot-label { opacity:.85; }
[data-theme="dark"] .move-notation { color: var(--color-info,#3d8bfd); }
[data-theme="dark"] .move-number { color: var(--color-text-secondary,#9ca3af); }
[data-theme="dark"] .game-messages-region .game-message { background:#26303d; border-color:#374151; }
[data-theme="dark"] .game-messages-region .game-message.success { border-left-color: var(--color-success); }
[data-theme="dark"] .game-messages-region .game-message.error { border-left-color: var(--color-danger); }
[data-theme="dark"] .game-messages-region .game-message.warning { border-left-color: var(--color-warning); }
[data-theme="dark"] .game-messages-region .game-message.info { border-left-color: var(--color-info); }

/* Darker board colors for parity (capture for reuse in vanilla-ts) */
[data-theme="dark"] .chess-board { background:#1e2530; border-color:#374151; }
[data-theme="dark"] .chess-board .square.light { background:linear-gradient(145deg,#3a4756,#313c48); }
[data-theme="dark"] .chess-board .square.dark { background:linear-gradient(145deg,#232c36,#1a2129); }
[data-theme="dark"] .chess-board .square.selected { box-shadow: inset 0 0 0 3px #ff6b6b,0 0 20px rgba(255,215,0,0.55); }

/* Hide any legacy scoped styles leftover (defensive) */
:root .legacy-vue-styles { display:none !important; }

/* Hint move highlighting (parity with other frameworks) */
.square.hint-from {
	background-color: #4CAF50 !important;
	box-shadow: inset 0 0 0 3px #2E7D32;
	animation: vue-pulse-from 2s infinite;
}
.square.hint-to {
	background-color: #FF9800 !important;
	box-shadow: inset 0 0 0 3px #F57C00;
	animation: vue-pulse-to 2s infinite;
	position: relative;
}
.square.hint-to::after {
	content: '⭐';
	position: absolute;
	top: 50%; left: 50%;
	transform: translate(-50%, -50%);
	font-size: 18px;
	animation: vue-star-twinkle 1.5s infinite;
	z-index: 5;
}
/* Selected piece & legal move styling */
.square.selected { background: linear-gradient(145deg,#ffd700,#ffed4e) !important; box-shadow: inset 0 0 0 3px #ff6b6b,0 0 16px rgba(255,215,0,0.65); transform: scale(1.05); z-index: 10; }
.square.valid-move { position:relative; background: linear-gradient(145deg,#90ee90,#7dd87d) !important; box-shadow: 0 0 10px rgba(144,238,144,0.6); }
.square.valid-move::after { content:'●'; position:absolute; color:rgba(46,125,50,0.85); font-size:18px; top:50%; left:50%; transform:translate(-50%,-50%); pointer-events:none; animation: vue-pulse-dot 2s infinite; }
@keyframes vue-pulse-dot { 0%,100% { opacity:.6; transform:translate(-50%,-50%) scale(1); } 50% { opacity:1; transform:translate(-50%,-50%) scale(1.25); } }
@keyframes vue-pulse-from {
	0%,100% { box-shadow: inset 0 0 0 3px #2E7D32; background-color:#4CAF50; }
	50% { box-shadow: inset 0 0 0 5px #1B5E20; background-color:#66BB6A; }
}
@keyframes vue-pulse-to {
	0%,100% { box-shadow: inset 0 0 0 3px #F57C00; background-color:#FF9800; }
	50% { box-shadow: inset 0 0 0 5px #E65100; background-color:#FFB74D; }
}
@keyframes vue-star-twinkle {
	0%,100% { opacity:1; transform:translate(-50%,-50%) scale(1); }
	50% { opacity:.7; transform:translate(-50%,-50%) scale(1.2); }
}
